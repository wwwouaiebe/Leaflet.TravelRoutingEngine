/**
 * 
 * @source: https://github.com/wwwouaiebe/leaflet.TravelNotesPolyline
 * 
 * @licstart  The following is the entire license notice for the
 * JavaScript code in this page.
 * 
 * leaflet.travelnotespolyline - version 1.11.0
 * Build 00016 - 2020-07-05T15:25:07+0200 
 * Copyright 2017 2020 wwwouaiebe 
 * Contact: https://www.ouaie.be/
 * License: GPL-3.0
 * 
 * The JavaScript code in this page is free software: you can
 * redistribute it and/or modify it under the terms of the GNU
 * General Public License (GNU GPL) as published by the Free Software
 * Foundation, either version 3 of the License, or (at your option)
 * any later version.  The code is distributed WITHOUT ANY WARRANTY;
 * without even the implied warranty of MERCHANTABILITY or FITNESS
 * FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.
 * 
 * As additional permission under GNU GPL version 3 section 7, you
 * may distribute non-source (e.g., minimized or compacted) forms of
 * that code without the copy of the GNU GPL normally required by
 * section 4, provided you include this license notice and a URL
 * through which recipients can access the Corresponding Source.
 * 
 * @licend  The above is the entire license notice
 * for the JavaScript code in this page.
 * 
 */


!function(){"use strict";window.L.travelNotes.addProvider(function(){const t=Math.PI/180,n=180/Math.PI,e=Math.PI/2;let r="fr",i=null;const a={en:{kStart:"Start",kContinue:"Continue",kEnd:"Stop"},fr:{kStart:"Départ",kContinue:"Continuer",kEnd:"Arrivée"}},o={kStart:"kDepartDefault",kContinue:"kContinueStraight",kEnd:"kArriveDefault"};function l(t,n,e){return Math.acos(Math.cos(n)*Math.cos(e)+Math.sin(n)*Math.sin(e)*Math.cos(t))}function s(t,n,e){return Math.acos((Math.cos(e)-Math.cos(t)*Math.cos(n))/(Math.sin(t)*Math.sin(n)))}function u(t,n){let e=window.L.travelNotes.maneuver;e.iconName=o[n],e.instruction=a[r]?a[r][n]:a.en[n],e.duration=0,e.itineraryPointObjId=t,i.itinerary.maneuvers.add(e)}function A(t){let n=window.L.travelNotes.itineraryPoint;return n.latLng=t,i.itinerary.itineraryPoints.add(n),n.objId}function d(r,a){let o=[r.lat*t,r.lng*t],u=[a.lat*t,a.lng*t],A=(a.lng-r.lng+360)%360>180?-1:1,d=l(u[1]-o[1],e-o[0],e-u[0]);if(.1>d*n)return;let c=s(e-o[0],d,e-u[0]),g=[];for(let t=1;t<=64;t++){let r=d*t/64,i=l(c,e-o[0],r),a=s(e-o[0],i,r),u=window.L.travelNotes.itineraryPoint;u.latLng=[(e-i)*n,(o[1]+A*a)*n],g.push(u)}a.lng=g.pop().lng,g.forEach(t=>i.itinerary.itineraryPoints.add(t))}function c(r,a){try{switch(i.itinerary.itineraryPoints.removeAll(),i.itinerary.maneuvers.removeAll(),i.itinerary.hasProfile=!1,i.itinerary.ascent=0,i.itinerary.descent=0,i.itinerary.transitMode){case"line":!function(){let t=i.wayPoints.iterator,n=null;for(;!t.done;)t.first?(n=t.value,u(A(t.value.latLng),"kStart")):(d(n,t.value),u(A(t.value.latLng),t.last?"kEnd":"kContinue"),n=t.value);let e=-Number.MAX_VALUE,r=i.itinerary.itineraryPoints.iterator;for(;!r.done;)e=Math.max(e,r.value.lng);let a=e%360-e;for(r=i.itinerary.itineraryPoints.iterator;!r.done;)r.value.lng+=a;for(t=i.wayPoints.iterator;!t.done;)t.value.lng+=a}();break;case"circle":!function(){let r=[i.wayPoints.first.lat*t,i.wayPoints.first.lng*t],a=[i.wayPoints.last.lat*t,i.wayPoints.last.lng*t],o=l(r[1]-a[1],e-r[0],e-a[0]),A=[];for(let t=0;t<=360;t++){let i=l(Math.PI/720+Math.PI*t/360,o,e-r[0]),a=s(e-r[0],i,o),d=window.L.travelNotes.itineraryPoint;d.latLng=[(e-i)*n,(r[1]+a)*n],A.push(d),d=window.L.travelNotes.itineraryPoint,d.latLng=[(e-i)*n,(r[1]-a)*n],A.unshift(d),360===t&&(u(d.objId,"kStart"),d=window.L.travelNotes.itineraryPoint,d.latLng=[(e-i)*n,(r[1]-a)*n],u(d.objId,"kEnd"),A.push(d))}A.forEach(t=>i.itinerary.itineraryPoints.add(t))}()}r(i)}catch(t){a(t)}}return{getPromiseRoute:t=>function(t){return i=t,new Promise(c)}(t),get icon(){return"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAIAAAC0Ujn1AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3\t\t\t\t\t\tRJTUUH4ggaBh8z7ov/KQAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAAAqElEQVRIx9VW0Q6AIAgU5v\t\t\t\t\t\t//sr1Us0I6EGy5HnLR3XnAhFprJWdxSVuJ0FX7SLS/uEzDVJ8cMdAuOJfXCBPR/gSn8cHNMz+7DLEa3ccf5QSo7itPpBzoYAOuCH\t\t\t\t\t\tTbdvEMqQBb5hoGp1G0RbIYg9bFvqXaUnxKPiURHNDfg8PxLMrYNHYabe5GxI2eUqWvHj3YgTjJjWXX7vS18u2wEDT0rJlDoie0fw\t\t\t\t\t\t5mG+C/L0HylIYKAAAAAElFTkSuQmCC"},get name(){return"Polyline"},get transitModes(){return{line:!0,circle:!0}},get providerKeyNeeded(){return!1},get providerKey(){return 1},set providerKey(t){return t},get userLanguage(){return r},set userLanguage(t){r=t}}}())}();