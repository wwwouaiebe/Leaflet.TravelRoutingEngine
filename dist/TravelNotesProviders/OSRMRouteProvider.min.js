/**
 * 
 * @source: https://github.com/wwwouaiebe/leaflet.TravelNotes
 * 
 * @licstart  The following is the entire license notice for the
 * JavaScript code in this page.
 * 
 * leaflet.travelnotes - version 2.1.0
 * Build 00245 - 2021-01-16T21:06:30+0100 
 * Copyright 2017 2021 wwwouaiebe 
 * Contact: https://www.ouaie.be/
 * License: GPL-3.0
 * 
 * The JavaScript code in this page is free software: you can
 * redistribute it and/or modify it under the terms of the GNU
 * General Public License (GNU GPL) as published by the Free Software
 * Foundation, either version 3 of the License, or (at your option)
 * any later version.  The code is distributed WITHOUT ANY WARRANTY;
 * without even the implied warranty of MERCHANTABILITY or FITNESS
 * FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.
 * 
 * As additional permission under GNU GPL version 3 section 7, you
 * may distribute non-source (e.g., minimized or compacted) forms of
 * that code without the copy of the GNU GPL normally required by
 * section 4, provided you include this license notice and a URL
 * through which recipients can access the Corresponding Source.
 * 
 * @licend  The above is the entire license notice
 * for the JavaScript code in this page.
 * 
 */


!function(){"use strict";
/**
	@------------------------------------------------------------------------------------------------------------------------------

	@file Constants.js
	@copyright Copyright - 2017 2021 - wwwouaiebe - Contact: https://www.ouaie.be/
	@license GNU General Public License
	@private

	@------------------------------------------------------------------------------------------------------------------------------
	*/Object.freeze({fixed:2,invalid:-1,defaultValue:0}),Object.freeze({refusedByUser:-1,disabled:0,inactive:1,active:2}),Object.freeze({invalidPane:"43a6a53e-008a-4910-80a6-7a87d301ea15",itineraryPane:"8fbf0da7-4e6f-4bc7-8e20-1388461ccde7",travelNotesPane:"dffe782b-07df-4b81-a318-f287c0cf5ec6",searchPane:"228f00d7-43a8-4c13-897d-70400cb6dd58"}),Object.freeze({fixed:2,defaultValue:0});const t=Object.freeze({defaultValue:0,fixed:6});Object.freeze({notEdited:0,editedNoChange:1,editedChanged:2}),Object.freeze({margin:100,height:500,width:1e3,yDeltaText:30,xDeltaText:10,vScales:[1,2,5,10,20,50,100,200,500,1e3,2e3,5e3],hScales:[1,2,5,10,20,50,100,200,500,1e3,2e3,5e3,1e4,2e4,5e4,1e5]}),Object.freeze({width:40,height:40,svgViewboxDim:200});function e(t){return Math.floor(Math.abs(t)+.5)*(0<=t?1:-1)}function r(t,r,n){let i=e(t*n),a=e(r*n),o=i-a;o<<=1,0>i-a&&(o=~o);let s="";for(;32<=o;)s+=String.fromCharCode(63+(32|31&o)),o>>=5;return s+=String.fromCharCode(o+63),s}const n=Object.freeze(new class{encode(t,e){if(!t.length)return"";let n=Math.pow(10,Number.isInteger(e)?e:5),i=r(t[0][0],0,n)+r(t[0][1],0,n);for(let e=1;e<t.length;e++){let a=t[e],o=t[e-1];i+=r(a[0],o[0],n),i+=r(a[1],o[1],n)}return i}decode(t,e,r=!1){let n=0,i=0,a=0,o=0,s=[],f=Math.pow(10,e);for(;n<t.length;){let e=null,l=0,h=0;do{e=t.charCodeAt(n++)-63,h|=(31&e)<<l,l+=5}while(32<=e);i+=1&h?~(h>>1):h>>1,l=0,h=0;do{e=t.charCodeAt(n++)-63,h|=(31&e)<<l,l+=5}while(32<=e);if(a+=1&h?~(h>>1):h>>1,r){l=0,h=0;do{e=t.charCodeAt(n++)-63,h|=(31&e)<<l,l+=5}while(32<=e);o+=1&h?~(h>>1):h>>1,s.push([i/f,a/f,o/100])}else s.push([i/f,a/f])}return s}});let i={supportedCodes:["en","fr"],instructions:{},grammars:{},abbreviations:{}};let a=i.instructions,o=i.grammars,s=i.abbreviations;function f(t){return t&&-1!==i.supportedCodes.indexOf(t)?t:"en"}!function(){async function t(t,e){await fetch("TravelNotesProviders/languages/"+t+"/"+e+".json").then(r=>{200===r.status&&r.ok&&async function(t,e,r){await r.json().then(r=>{i[t][e]=r})}(t,e,r)})}i.supportedCodes.forEach(e=>{t("instructions",e),t("grammars",e),t("abbreviations",e)})}();const l=Object.freeze({capitalizeFirstLetter:function(t,e){let r=f(t);return e.charAt(0).toLocaleUpperCase(r)+e.slice(1)},ordinalize:function(t,e){let r=f(t);return a[r].v5.constants.ordinalize[e.toString()]||""},directionFromDegree:function(t,e){return function(t,e){let r=f(t);if(e||0===e){if(0>e&&360<e)throw new Error("Degree "+e+" invalid");return 20>=e?a[r].v5.constants.direction.north:70>e?a[r].v5.constants.direction.northeast:110>=e?a[r].v5.constants.direction.east:160>e?a[r].v5.constants.direction.southeast:200>=e?a[r].v5.constants.direction.south:250>e?a[r].v5.constants.direction.southwest:290>=e?a[r].v5.constants.direction.west:340>e?a[r].v5.constants.direction.northwest:a[r].v5.constants.direction.north}return""}(t,e)},laneConfig:function(t){if(!t.intersections||!t.intersections[0].lanes)throw new Error("No lanes object");let e=[],r=null;return t.intersections[0].lanes.forEach((function(t){null!==r&&r===t.valid||(t.valid?e.push("o"):e.push("x"),r=t.valid)})),e.join("")},getWayName:function(t,e,r){let n=r&&r.classes||[];if("object"!=typeof e)throw new Error("step must be an Object");let i=f(t);if(!Array.isArray(n))throw new Error("classes must be an Array or undefined");let o="",s=e.name||"",l=(e.ref||"").split(";")[0];s===e.ref&&(s=""),s=s.replace(" ("+e.ref+")","");let h=-1!==n.indexOf("motorway");if(s&&l&&s!==l&&!h){let t=a[i].v5.phrase["name and ref"]||a.en.v5.phrase["name and ref"];o=this.tokenize(i,t,{name:s,ref:l},r)}else o=s&&l&&h&&/\d/.test(l)||!s&&l?r&&r.formatToken?r.formatToken("ref",l):l:r&&r.formatToken?r.formatToken("name",s):s;return o},compile:function(t,e,r){let n=f(t);if(!e.maneuver)throw new Error("No step maneuver provided");let i=r||{},o=e.maneuver.type,s=e.maneuver.modifier,l=e.mode,h=e.driving_side;if(!o)throw new Error("Missing step maneuver type");if("depart"!==o&&"arrive"!==o&&!s)throw new Error("Missing step maneuver modifier");a[n].v5[o]||(console.log("Encountered unknown instruction type: "+o),o="turn");let d=null;if(a[n].v5.modes[l])d=a[n].v5.modes[l];else{let t="off ramp"===o&&0<=s.indexOf(h);d=a[n].v5[o][s]&&!t?a[n].v5[o][s]:a[n].v5[o].default}let u=null;switch(o){case"use lane":u=a[n].v5.constants.lanes[this.laneConfig(e)],u||(d=a[n].v5["use lane"].no_lanes);break;case"rotary":case"roundabout":d=e.rotary_name&&e.maneuver.exit&&d.name_exit?d.name_exit:e.rotary_name&&d.name?d.name:e.maneuver.exit&&d.exit?d.exit:d.default}let g=this.getWayName(n,e,i),c=d.default;e.destinations&&e.exits&&d.exit_destination?c=d.exit_destination:e.destinations&&d.destination?c=d.destination:e.exits&&d.exit?c=d.exit:g&&d.name?c=d.name:i.waypointName&&d.named&&(c=d.named);let k=e.destinations&&e.destinations.split(": "),m=k&&k[0].split(",")[0],p=k&&k[1]&&k[1].split(",")[0],R="";R=p&&m?m+": "+p:m||p||"";let v=0<=i.legIndex&&i.legIndex!==i.legCount-1?this.ordinalize(n,i.legIndex+1):"",b={way_name:g,destination:R,exit:(e.exits||"").split(";")[0],exit_number:this.ordinalize(n,e.maneuver.exit||1),rotary_name:e.rotary_name,lane_instruction:u,modifier:a[n].v5.constants.modifier[s],direction:this.directionFromDegree(n,e.maneuver.bearing_after),nth:v,waypoint_name:i.waypointName};return this.tokenize(n,c,b,i)},grammarize:function(t,e,r){let n=f(t);if(r&&o&&o[n]&&o[n].v5){let t=o[n].v5[r];if(t){let r=" "+e+" ",i=o[n].meta.regExpFlags||"";return t.forEach((function(t){let e=new RegExp(t[0],i);r=r.replace(e,t[1])})),r.trim()}}return e},abbreviations:s,tokenize:function(t,e,r,n){let i=f(t),o=this,s=!1,l=e.replace(/\{(\w+)(?::(\w+))?\}/g,(function(t,e,f,l){let h=r[e];return void 0===h?t:(h=o.grammarize(i,h,f),0===l&&a[i].meta.capitalizeFirstLetter&&(s=!0,h=o.capitalizeFirstLetter(i,h)),n&&n.formatToken&&(h=n.formatToken(e,h)),h)})).replace(/ {2}/g," ");return!s&&a[i].meta.capitalizeFirstLetter?this.capitalizeFirstLetter(i,l):l}}),h=Object.freeze({turn:{default:"kUndefined","sharp left":"kTurnSharpLeft",left:"kTurnLeft","slight left":"kTurnSlightLeft",straight:"kTurnStraight","slight right":"kTurnSlightRight",right:"kTurnRight","sharp right":"kTurnSharpRight",uturn:"kTurnUturn"},"new name":{default:"kUndefined","sharp left":"kNewNameSharpLeft",left:"kNewNameLeft","slight left":"kNewNameSlightLeft",straight:"kNewNameStraight","slight right":"kNewNameSlightRight",right:"kNewNameRight","sharp right":"kNewNameSharpRight"},depart:{default:"kDepartDefault","sharp left":"kDepartLeft",left:"kDepartLeft","slight left":"kDepartLeft",straight:"kDepartDefault","slight right":"kDepartRight",right:"kDepartRight","sharp right":"kDepartRight"},arrive:{default:"kArriveDefault","sharp left":"kArriveLeft",left:"kArriveLeft","slight left":"kArriveLeft",straight:"kArriveDefault","slight right":"kArriveRight",right:"kArriveRight","sharp right":"kArriveRight"},merge:{default:"kMergeDefault","sharp left":"kMergeLeft",left:"kMergeLeft","slight left":"kMergeLeft",straight:"kMergeDefault","slight right":"kMergeRight",right:"kMergeRight","sharp right":"kMergeRight"},"on ramp":{default:"kUndefined","sharp left":"kOnRampLeft",left:"kOnRampLeft","slight left":"kOnRampLeft","slight right":"kOnRampRight",right:"kOnRampRight","sharp right":"kOnRampRight"},"off ramp":{default:"kUndefined","sharp left":"kOffRampLeft",left:"kOffRampLeft","slight left":"kOffRampLeft","slight right":"kOffRampRight",right:"kOffRampRight","sharp right":"kOffRampRight"},fork:{default:"kUndefined","sharp left":"kForkLeft",left:"kForkLeft","slight left":"kForkLeft","slight right":"kForkRight",right:"kForkRight","sharp right":"kForkRight"},"end of road":{default:"kUndefined","sharp left":"kEndOfRoadLeft",left:"kEndOfRoadLeft","slight left":"kEndOfRoadLeft","slight right":"kEndOfRoadRight",right:"kEndOfRoadRight","sharp right":"kEndOfRoadRight"},continue:{default:"kUndefined","sharp left":"kContinueSharpLeft",left:"kContinueLeft","slight left":"kContinueSlightLeft",straight:"kContinueStraight","slight right":"kContinueSlightRight",right:"kContinueRight","sharp right":"kContinueSharpRight"},roundabout:{default:"kUndefined","sharp left":"kRoundaboutLeft",left:"kRoundaboutLeft","slight left":"kRoundaboutLeft","slight right":"kRoundaboutRight",right:"kRoundaboutRight","sharp right":"kRoundaboutRight"},rotary:{default:"kUndefined","sharp left":"kRotaryLeft",left:"kRotaryLeft","slight left":"kRotaryLeft","slight right":"kRotaryRight",right:"kRotaryRight","sharp right":"kRotaryRight"},"roundabout turn":{default:"kUndefined","sharp left":"kRoundaboutTurnSharpLeft",left:"kRoundaboutTurnLeft","slight left":"kRoundaboutTurnSlightLeft",straight:"kRoundaboutTurnStraight","slight right":"kRoundaboutTurnSlightRight",right:"kRoundaboutTurnRight","sharp right":"kRoundaboutTurnSharpRight"},notification:{default:"kUndefined"},default:{default:"kUndefined"}});
/**
	@------------------------------------------------------------------------------------------------------------------------------

	@file IconList.js
	@copyright Copyright - 2017 2021 - wwwouaiebe - Contact: https://www.ouaie.be/
	@license GNU General Public License
	@private

	@------------------------------------------------------------------------------------------------------------------------------
	*/window.L.travelNotes.addProvider(function(){let e="fr",r=null;function i(i,a){fetch(function(){let e=null;r.wayPoints.forEach(r=>{e=e?e+";":"",e+=r.lng.toFixed(t.fixed)+","+r.lat.toFixed(t.fixed)});let n="";switch(r.itinerary.transitMode){case"car":n="routed-car";break;case"bike":n="routed-bike";break;case"pedestrian":n="routed-foot";break;default:return void console.log("invalid transitMode")}return"https://routing.openstreetmap.de/"+n+"/route/v1/driving/"+e+"?geometries=polyline6&overview=full&steps=true&annotations=distance"}()).then(t=>{200===t.status&&t.ok?t.json().then(t=>function(t,i,a){"Ok"!==t.code&&a(new Error("Response code not ok")),0===t.routes.length&&a(new Error("Route not found")),r.itinerary.itineraryPoints.removeAll(),r.itinerary.maneuvers.removeAll(),r.itinerary.hasProfile=!1,r.itinerary.ascent=0,r.itinerary.descent=0,t.routes[0].geometry=n.decode(t.routes[0].geometry,6,!1),t.routes[0].legs.forEach((function(t){let i=0;t.steps.forEach((function(a){a.geometry=n.decode(a.geometry,6,!1);let o=window.L.travelNotes.maneuver;o.iconName=h[a.maneuver.type]?h[a.maneuver.type][a.maneuver.modifier]||h[a.maneuver.type].default:h.default.default,o.instruction=l.compile(e,a),o.duration=a.duration;let s=0;for(let e=0;1===a.geometry.length?1>e:e<a.geometry.length;e++){let n=window.L.travelNotes.itineraryPoint;n.latLng=[a.geometry[e][0],a.geometry[e][1]],n.distance=t.annotation.distance[i]?t.annotation.distance[i]:0,r.itinerary.itineraryPoints.add(n),e!==a.geometry.length-1&&(s+=n.distance,i++),0===e&&(o.itineraryPointObjId=n.objId)}o.distance=s,r.itinerary.maneuvers.add(o)}))}));let o=r.wayPoints.iterator;t.waypoints.forEach((function(t){o.done||(o.value.latLng=[t.location[1],t.location[0]])})),i(r)}(t,i,a)):a(new Error("Invalid status "+t.status))})}return{getPromiseRoute:t=>function(t){return r=t,new Promise(i)}(t),get icon(){return"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWX\t\t\t\t\tMAAA7DAAAOwwHHb6hkAAAAB3RJTUUH4QkaDwEMOImNWgAABTZJREFUSMftl21sFEUYx3+zu3ft9a7Q0tIXoKUCIkIVeYsECmgbBK\t\t\t\t\tIIEVC0QEs0UIEghA+CEkkIaCyJBhFBBC00qHxoQClvhgLyEonyckhbFKS90iK0FAqFHr273R0/XNlCymEREr44X3by7DPzm5n9z8\t\t\t\t\tx/hZRS8giKwiMqjwys3U/y/pIqdh0tp8RTS229F0yIaxtBz+R2jOjfhSFPJbW6L9Gab/zFdjfv5x/k2g0f4TYVISUCEJKmp8QfMG\t\t\t\t\tjjsLNoShozxvR7MHD1VS+D53+Pp/oqmqJYoEBAxzQlQoKmCMJUJTgAwDQkye0j2f1JJvHRzvsH/3m+jqfn5IOUICWGYZIY5WTScz\t\t\t\t\t1J751EYjsXArh45QZ73BV8W1RC7VUvNkVBEBzUoZXZPJEc03rwhboGkqettWYopeSb2SPIHPbkPZfvu6JSZizfidIExpQU5+eQ0M\t\t\t\t\t7VOnDS9LVcvNKAkBDtDOf35ZOIj3K2SjSXrnoZNDOPuvqbCCA+yklxfs6/g3O3HOXd/ANoikCakvPrphEfFWG9P1R6ni+3n6Ck4h\t\t\t\t\tJI6JUcS/YLqaQ/09nKuVx/kx6TVoGUmIZkYVYac18beG+wfeLnGIaBqZtseGckk59rXt7xH/5IwaHTRNjVO1Tt8wcY1b8rWxaPs3\t\t\t\t\tJ/OHiarKVbsKkqqoCLW+eFPkB2uD0EfAEAOsa67oC+tHgzW387iyNMQ0qJ1xfA6wsgpSTcprHX7eHFBZus/DFp3XksMRoAX0Bn16\t\t\t\t\t9nQ4N3HT+H0FQApqb3suLbj5Sx7UgZihA0Bgxmje5HeV4Ong05zB7bn8aAjhCCfSfOUfjLGatd5vBUkGDXVPYeKQ8NdldcCu7FgM\t\t\t\t\tHIPilWfMU2N2E2FVNK3pvwLLlvDqNzXBuS2rdh6dShfJCZhikldpvKmkK31e75vin4AjoAxWU1ocHV17zBimnS4bYtcKysGgC/T2\t\t\t\t\tfeK/1bKHTu+AF4G4OfyH2m2oonxrgwTGmpPSRYms11VRFWPaA3vZCSMFvL4z3MpnFLorrZ3IkixG19y9DgmMjwWy34+0qDFe/RqR\t\t\t\t\t0AtjAbeUXFLcAbfjpJRHhwQI835QJU1zVYE4hqEx4anJocAwKEprK3uNKKZ6X3wjAlqiKYvXoP63c3wzfuKWHGil2oioJhSt7IaB\t\t\t\t\tbl/hPnsNuCYu2ZEhd6Hxcc/ovxuYUoqqB7QhSnVmRZid1z1lFZcx0BGLqB36+DBIddw6YKhITEaCen8qZbbQbmfE1ZVR2GYbBuwc\t\t\t\t\tuMHdrj7jMeN7CbVf+j8jI7jnmaBfbpZDrEuDClRFMVnA47LocdTVUwTUlctJPDK7Ot/KKj5ZSW1yIBw5R3QO/qQOaN7QcSNJvKq8\t\t\t\t\tsKaWhSq8th5+xXb7F40mA6xUbScNPPDa+fjjGRLMwczOm86bR1hgFw06eT/dFWwuzBZZ45bkDrLglX5kp8fh0hITk2kpOfTcFhb5\t\t\t\t\t1ZafTrDJqZx7mL1xAED4+qzXMQrfFcB5ZMQPcbAFTWXichazU/3ya2UOVQcRXdMldRUX0teFT6DQo/ntgCek8jsPO4h1GLCrDbNZ\t\t\t\t\tASv1+nX9d4sjJSyeidREJ00AhcqGtgn7uCjUUlHDt9AYdNQyDx+XQKlkxgxIAu9299jpbVMGT+JgzDsG4j2TQIacqgFhRBuKagCm\t\t\t\t\tHlaIpgZ+7r9O2e8N/NXsAwmbVmD2u2ubFpKpoiWpo9JNIIGr63R/dhWU4Gmqo8uMsE8OsG64tK2X3cQ7Gnhsv1jShS0L5tOL2SY8\t\t\t\t\tjok8Lk4anYm263h2Jv//+FeRjlHxKxS4in4X1YAAAAAElFTkSuQmCC"},get name(){return"OSRM"},get transitModes(){return{car:!0,bike:!0,pedestrian:!0,train:!1}},get providerKeyNeeded(){return!1},get providerKey(){return 1},set providerKey(t){},get userLanguage(){return e},set userLanguage(t){e=t}}}())}();